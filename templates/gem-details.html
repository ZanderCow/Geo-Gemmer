{% from "components/footer.html" import footer %}
{% from "components/signed-in-navbar.html" import signed_in_navbar %}


<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Gem Details - {{gem_basic_info.name}}</title>
    <link rel="icon" href="/static/img/geo-icon.png">
    <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alexandria&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans&amp;display=swap">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css">
    <link rel="stylesheet" href="/static/css/styles.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
</head>

<body id="page-top">
    {{ signed_in_navbar() }}

    <script type="text/javascript">
        var gemId = {{ gem_basic_info.gem_id | tojson }};
    </script>
   
    <header data-aos="fade" class="bg-primary-gradient pt-5" style="background: #ffffff;">
        <div class="text-center">
            <p class="fw-bold text-success mb-2">Hidden Gem</p>
            <h1 class="fw-bold">{{gem_basic_info.name}}</h1>
            <button id="pinGemButton" class="btn btn-success btn-sm" type="submit">
                <span style="color: rgb(255, 255, 255);">Pin Gem</span>
            </button>
        </div>
    </header>
    <div class="container" id="Pictures">
        <div class="position-relative" style="display: flex;flex-wrap: wrap;justify-content: flex-end;">
            <div class="card mb-3">
                <div class="card-body" style="padding-top: 30px;">
                    <div class="row nav-fill">
                        <div class="col-md-6 col-xl-7 col-xxl-7 d-flex">
                            <div class="d-md-flex d-xxl-flex justify-content-md-center mb-3"><img class="rounded d-md-flex flex-fill w-100 h-120 fit-cover img-fluid" data-aos="zoom-in" style="min-height: 300px;" src="{{gem_basic_info.image_1 if gem_basic_info.image_1 is not none else '/static/img/gem-image-placeholder.png'}}" width="727" height="646" style="max-height:646px;"></div>
                        </div>
                        <div class="col-md-6 col-xl-4 col-xxl-4 d-xxl-flex flex-column flex-grow-1 justify-content-xxl-center flex-fill">
                            <div class="row">
                                
                                <div class="col-md-12">
                                    <div class="mb-3"><img class="rounded w-100 h-120 fit-cover img-fluid" data-aos="zoom-in" style="min-height:0px" src="{{gem_basic_info.image_2 if gem_basic_info.image_2 is not none else '/static/img/gem-image-placeholder.png'}}" width="513" height="272" style="max-height:272px;"></div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 d-xxl-flex justify-content-xxl-center align-items-xxl-start">
                                    <div class="mb-3"><img class="rounded w-100 h-120 fit-cover img-fluid" data-aos="zoom-in" src="{{gem_basic_info.image_1 if gem_basic_info.image_1 is not none else '/static/img/gem-image-placeholder.png'}}" width="300" height="450" style="max-height:450px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="card shadow mb-5"><h5 class="fw-bold card-title"></div>
    </div>
    <div class="container" id="description">
        <div class="row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3 d-md-flex d-lg-flex justify-content-md-center justify-content-lg-center">
            <div class="col-md-9 col-lg-10 flex-fill">
                <div class="card shadow-sm flex-fill mb-4">
                    <div class="card-body d-md-flex flex-fill justify-content-md-center align-items-md-center" data-aos="fade" style="height: 340px;">
                        <div class="row">
                            <div class="col-xl-12">
                                <div class="row">
                                    <div class="col">
                                        <div class="text-center mb-3" style="text-align: center;padding-top: 10px;"><label class="form-label fs-4" for="email"><strong>Average User Rating</strong></label></div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <div class="text-center mb-3" style="text-align: center;"><label class="form-label fs-4" for="email"><strong>{{gem_basic_info.avg_rat|round(2) | string}}/ 5</strong></label></div>
                                        <div class="row">
                                            <div class="col text-center d-md-flex d-xl-flex justify-content-md-center justify-content-xl-center">
                                            {% for i in range(gem_basic_info.avg_rat|round(1, 'floor')|int)%}
                                            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-1">
                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                            </svg>
                                            {% endfor %}
                                            {% set filler = (gem_basic_info.avg_rat%1)*100|round(1)|int %}
                                            {% if filler > 1 and gem_basic_info.avg_rat|round(1, 'floor') != gem_basic_info.avg_rat %}
                                            <!--gem_basic_info.avg_rat*100|round(1)|int-->
                                                <svg width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-1">
                                                    <defs>
                                                        <clipPath id="clippy">
                                                            <rect x="0" y="0" width="{{filler}}%" height="100%"></rect>
                                                        </clipPath>
                                                    </defs>
                                                    <path style="clip-path:url(#clippy);" d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                </svg>
                                            {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    function Visit() {
                        fetch('/gem/{{gem_id}}/visit', {
                            method: 'POST',
                            body: '',
                            
                            headers: { 'Content-Type': 'application/json' }, // Setting the Content-Type as application/json
            
                            headers: {
                                'Content-Type': 'application/json',
                                'X-CSRF-Token': csrf_token // The CSRF token you retrieved from your cookie or elsewhere
                                }, // Setting the Content-Type as application/json
                            credentials: 'include'  // Necessary to include cookies with requests
                        })
                        .then((response) => {
                            if (response.ok) {
                                window.location.href='https://maps.google.com/?q={{gem_basic_info.latitude}},{{gem_basic_info.longitude}}';
                            } else {
                                return response.text().then(text => {
                                    throw new Error(text);
                                });
                            }
                        })
            
                    }
                </script>
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="d-flex d-xxl-flex justify-content-sm-center justify-content-xxl-center align-items-xxl-center mb-3" style="text-align: center;"><button class="btn btn-primary btn-lg text-center d-flex d-xxl-flex justify-content-center align-items-center justify-content-xxl-end align-items-xxl-center" data-bss-hover-animate="pulse" type="button" style="width: auto;max-width: initial;min-width: auto;" ><span style="color: rgb(255, 255, 255);" onclick="Visit()">Get Directions</span></button></div>
                    </div>
                </div>
            </div>
            <div class="col-md-9 col-lg-10 flex-fill">
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-activity text-success">
                                <path fill-rule="evenodd" d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Type</h5>
                        <p class="text-muted card-text mb-4">{{gem_basic_info.gem_type}}</p>
                    </div>
                </div>
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-globe-americas text-success">
                                <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M2.04 4.326c.325 1.329 2.532 2.54 3.717 3.19.48.263.793.434.743.484-.08.08-.162.158-.242.234-.416.396-.787.749-.758 1.266.035.634.618.824 1.214 1.017.577.188 1.168.38 1.286.983.082.417-.075.988-.22 1.52-.215.782-.406 1.48.22 1.48 1.5-.5 3.798-3.186 4-5 .138-1.243-2-2-3.5-2.5-.478-.16-.755.081-.99.284-.172.15-.322.279-.51.216-.445-.148-2.5-2-1.5-2.5.78-.39.952-.171 1.227.182.078.099.163.208.273.318.609.304.662-.132.723-.633.039-.322.081-.671.277-.867.434-.434 1.265-.791 2.028-1.12.712-.306 1.365-.587 1.579-.88A7 7 0 1 1 2.04 4.327Z"></path>
                            </svg></div>
                            <h5 class="fw-bold card-title">Distance</h5>
                            <p class="text-muted card-text mb-4">{{gem_basic_info.distance}} km away</p>
                        <h5 class="fw-bold card-title">Location</h5>
                        <p class="text-muted card-text mb-0">Longitude: {{gem_basic_info.longitude}}, Latitude: {{gem_basic_info.latitude}}</p>
                    </div>
                </div>
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person text-success">
                                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664z"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Times Visited</h5>
                        <p class="text-muted card-text mb-4">{{gem_basic_info.times_visited}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container py-4 py-xl-5">
        <div class="row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3 d-md-flex d-lg-flex justify-content-md-center">
            <div class="col">
                {% if gem_basic_info.wheelchair_accessible  %}
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-person-wheelchair text-success">
                                <path d="M12 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m-.663 2.146a1.5 1.5 0 0 0-.47-2.115l-2.5-1.508a1.5 1.5 0 0 0-1.676.086l-2.329 1.75a.866.866 0 0 0 1.051 1.375L7.361 3.37l.922.71-2.038 2.445A4.732 4.732 0 0 0 2.628 7.67l1.064 1.065a3.25 3.25 0 0 1 4.574 4.574l1.064 1.063a4.732 4.732 0 0 0 1.09-3.998l1.043-.292-.187 2.991a.872.872 0 1 0 1.741.098l.206-4.121A1 1 0 0 0 12.224 8h-2.79l1.903-2.854ZM3.023 9.48a3.25 3.25 0 0 0 4.496 4.496l1.077 1.077a4.75 4.75 0 0 1-6.65-6.65l1.077 1.078Z"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Wheelchair Accessible</h5>
                        <p class="text-muted card-text mb-4">Wheelchairs are easy to use&nbsp;</p>
                    </div>
                </div>
                {% else %}
                {% endif %}
            </div>
            <div class="col">
                {% if gem_basic_info.service_animal_friendly  %}
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-dog text-success">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M11 5h2"></path>
                                <path d="M19 12c-.667 5.333 -2.333 8 -5 8h-4c-2.667 0 -4.333 -2.667 -5 -8"></path>
                                <path d="M11 16c0 .667 .333 1 1 1s1 -.333 1 -1h-2z"></path>
                                <path d="M12 18v2"></path>
                                <path d="M10 11v.01"></path>
                                <path d="M14 11v.01"></path>
                                <path d="M5 4l6 .97l-6.238 6.688a1.021 1.021 0 0 1 -1.41 .111a.953 .953 0 0 1 -.327 -.954l1.975 -6.815z"></path>
                                <path d="M19 4l-6 .97l6.238 6.688c.358 .408 .989 .458 1.41 .111a.953 .953 0 0 0 .327 -.954l-1.975 -6.815z"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Service Animal Friendly</h5>
                        <p class="text-muted card-text mb-4">Service animals are allowed&nbsp;</p>
                    </div>
                </div>
                {% else %}
                {% endif %}
            </div>
            {% if gem_basic_info.multilingual_support  %}
            <div class="col-md-12 col-lg-8">
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><i class="la la-language text-success"></i></div>
                        <h5 class="fw-bold card-title">Multilingual Support</h5>
                        <p class="text-muted card-text mb-4">Multiple languages are supported here</p>
                    </div>
                </div>   
            </div>
            {% else %}
            {% endif %}
        </div>
        <div class="row gy-4 row-cols-1 row-cols-md-2 row-cols-xl-3 d-md-flex d-lg-flex d-xl-flex d-xxl-flex justify-content-md-center justify-content-lg-center justify-content-xl-center justify-content-xxl-center" style="padding-top: 25px;">
            <div class="col">
                {% if gem_basic_info.braille_signage  %}

                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20 20" fill="none" class="text-success">

                                <path d="M6 10C6 11.1046 5.10457 12 4 12C2.89543 12 2 11.1046 2 10C2 8.89543 2.89543 8 4 8C5.10457 8 6 8.89543 6 10Z" fill="currentColor"></path>
                                <path d="M12 10C12 11.1046 11.1046 12 10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10Z" fill="currentColor"></path>
                                <path d="M16 12C17.1046 12 18 11.1046 18 10C18 8.89543 17.1046 8 16 8C14.8954 8 14 8.89543 14 10C14 11.1046 14.8954 12 16 12Z" fill="currentColor"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Braille Signage</h5>
                        <p class="text-muted card-text mb-4">Those with impaired vision can have fun too!</p>
                    </div>
                </div>
                {% else %}
                {% endif %}
            </div>
            <div class="col">
                {% if gem_basic_info.hearing_assistance  %}

                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-ear text-success">
                                <path d="M8.5 1A4.5 4.5 0 0 0 4 5.5v7.047a2.453 2.453 0 0 0 4.75.861l.512-1.363a5.553 5.553 0 0 1 .816-1.46l2.008-2.581A4.34 4.34 0 0 0 8.66 1zM3 5.5A5.5 5.5 0 0 1 8.5 0h.16a5.34 5.34 0 0 1 4.215 8.618l-2.008 2.581a4.555 4.555 0 0 0-.67 1.197l-.51 1.363A3.453 3.453 0 0 1 3 12.547zM8.5 4A1.5 1.5 0 0 0 7 5.5v2.695c.112-.06.223-.123.332-.192.327-.208.577-.44.72-.727a.5.5 0 1 1 .895.448c-.256.513-.673.865-1.079 1.123A8.538 8.538 0 0 1 7 9.313V11.5a.5.5 0 0 1-1 0v-6a2.5 2.5 0 0 1 5 0V6a.5.5 0 0 1-1 0v-.5A1.5 1.5 0 0 0 8.5 4"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Hearing Assistance</h5>
                        <p class="text-muted card-text mb-4">Those troubled with hearing can request aid.</p>
                    </div>
                </div>
                {% else %}
                {% endif %}
            </div>
            <div class="col-md-12 col-lg-8">
                {% if gem_basic_info.large_print_materials  %}
                <div class="card shadow-sm" data-aos="fade">
                    <div class="card-body px-4 py-5 px-md-5">
                        <div class="bs-icon-lg d-flex justify-content-center align-items-center mb-3 bs-icon" style="top: 1rem;right: 1rem;position: absolute;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-newspaper text-success">
                                <path d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5z"></path>
                                <path d="M2 3h10v2H2zm0 3h4v3H2zm0 4h4v1H2zm0 2h4v1H2zm5-6h2v1H7zm3 0h2v1h-2zM7 8h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2zm-3 2h2v1H7zm3 0h2v1h-2z"></path>
                            </svg></div>
                        <h5 class="fw-bold card-title">Large Print Materials</h5>
                        <p class="text-muted card-text mb-4">Can't see the map or a menu? Larger printed materials are provided</p>
                    </div>
                </div>
                {% else %}
                {% endif %}
            </div>
        </div>
    </div>
    <div class="container" id="GemDetails">
        <div class="row">
            <div class="col-xl-8 col-xxl-7 flex-fill">
                <div class="card shadow-sm mb-3" data-aos="fade">
                    <div class="card-body">
                        <h1 class="small fw-bold"></h1>
                        <h4 class="small fw-bold"><span class="float-end">{{gem_review_distribution.one}}</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-primary" aria-valuenow="{{gem_review_distribution.1}}" aria-valuenow="40" style="width: {{normalized_review_distribution.one}}%;"><span class="visually-hidden">10%</span></div>
                        </div>
                        <h4 class="small fw-bold"><span class="float-end">{{gem_review_distribution.two}}</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-primary" aria-valuenow="20" style="width: {{normalized_review_distribution.two}}%;"><span class="visually-hidden">20%</span></div>
                        </div>
                        <h4 class="small fw-bold"><span class="float-end">{{gem_review_distribution.three}}</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-primary" style="width: {{normalized_review_distribution.three}}%;"><span class="visually-hidden">30%</span></div>
                        </div>
                        <h4 class="small fw-bold"><span class="float-end">{{gem_review_distribution.four}}</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-primary" style="width: {{normalized_review_distribution.four}}%;"><span class="visually-hidden">40%</span></div>
                        </div>
                        <h4 class="small fw-bold"><span class="float-end">{{gem_review_distribution.five}}</span><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-5">
                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                            </svg></h4>
                        <div class="progress progress-sm mb-3">
                            <div class="progress-bar bg-primary" aria-valuemin="0" aria-valuemax="100" style="width: {{normalized_review_distribution.five}};"><span class="visually-hidden">60%</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container" id="reviews">
        <div class="row">
            <div class="col" style="background: #ffffff;">
                <div class="card mb-3" data-aos="fade" style="background: rgb(255,255,255);">
                    <div class="card-body" style="overflow: auto;background: #ffffff;">
                        <section class="text-truncate" style="color: rgb(255,255,255);background-color: #ffffff;padding: 30px;height: 700px;overflow-y: scroll;border-color: rgb(255,255,255);">
                            <div class="container scstyle-1 sc-overflow" style="max-height: 675px;background: #ffffff;">
                                {% for review in gem_reviews %}
                                <div class="card mb-3">
                                    <div class="card-body listedreview">
                                        <div class="row">
                                            <div class="col" style="height:82px;"><img class="border rounded-circle img-profile" src="{{review.pfp if review.pfp is not none else '/static/img/pfp-placeholder.png'}}" width="65" height="61" style="position:absolute">
                                                <div style="margin-left:30px;position:absolute;margin-top:-10px;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-half" style="font-size: 39px;"></svg>
                                                    {% for i in range(5) %}
                                                        {% if i < review.rating %}
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star-fill fs-1">
                                                                <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"></path>
                                                            </svg>
                                                        {% else %}
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 16 16" class="bi bi-star" style="font-size: 39px;">
                                                                <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"></path>
                                                            </svg>
                                                        {% endif %}
                                                    {% endfor %}
                                                </div>
                                                <div style="margin-left:75px;margin-top:24px;">
                                                    <h5 class="fw-bold" style="margin-bottom:0px;">{{review.user_name}}</h5>
                                                    <p>{{review.date}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="text-muted mb-4 text-wrap text-break">{{review.review}}</p>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container py-5">
        <div class="row mb-5" data-aos="fade">
            <div class="col-md-8 col-xl-6 text-center mx-auto">
                <h2 class="fw-bold">Create A Review</h2>
                <p class="text-muted">Been here before? Make a review</p>
                <div class="card flex-grow-1 flex-fill">
                    <div class="card-body d-xxl-flex justify-content-xxl-center align-items-xxl-center"><a class="btn btn-success btn-lg d-lg-flex align-items-lg-center" role="button" data-bss-hover-animate="pulse" href="/gem/{{gem_basic_info.gem_id}}/create-review"><span style="color: rgb(255, 255, 255);">Make A Review</span></a></div>
                </div>
            </div>
        </div>
    </div>
    {{ footer() }}
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="/static/js/script.min.js"></script>
    <script src="/static/js/pin-gem.js"></script>

</body>

</html>