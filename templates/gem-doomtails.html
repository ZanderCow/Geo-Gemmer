{% from "components/footer.html" import footer %}
{% from "components/signed-in-navbar.html" import signed_in_navbar %}


<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Gem DOOMtails</title>
    <link rel="icon" href="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/b21f4a97-19bb-4ce0-8091-2cee9420910e/df17fz6-9cba9d13-7ade-4bb8-9533-df363f7766a9.png/v1/fill/w_1280,h_1280/isabelle_s_head_by_marthasatriyoarts_df17fz6-fullview.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MTI4MCIsInBhdGgiOiJcL2ZcL2IyMWY0YTk3LTE5YmItNGNlMC04MDkxLTJjZWU5NDIwOTEwZVwvZGYxN2Z6Ni05Y2JhOWQxMy03YWRlLTRiYjgtOTUzMy1kZjM2M2Y3NzY2YTkucG5nIiwid2lkdGgiOiI8PTEyODAifV1dLCJhdWQiOlsidXJuOnNlcnZpY2U6aW1hZ2Uub3BlcmF0aW9ucyJdfQ.PfKm1h6TvbjP29EvXQKQ0ohlQc7Db0YbOIFHq-GSB38">
    <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alexandria&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans&amp;display=swap">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css">
    <link rel="stylesheet" href="/static/css/styles.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
</head>

<body id="page-top" data-aos-easing="ease" data-aos-duration="400" data-aos-delay="0">
    
    <nav class="navbar navbar-expand-md d-flex justify-content-start navbar-shrink py-3 navbar-light" id="mainNav">
        <div class="container"><img src="/static/img/geo-gemmer-logo.png" width="108" height="50"><a class="navbar-brand d-flex align-items-center" href="/"><span></span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-2"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-2">
                <div class="row d-xxl-flex justify-content-xxl-start align-items-xxl-center">
                    <div class="col-md-10 offset-md-1">
                        <div class="card m-auto" style="max-width:850px">
                            <div class="card-body" id="search-for-gem">
                                <form class="d-flex align-items-center" action="/gem/search" method="get"><input class="form-control form-control-sm flex-shrink-1 form-control-borderless" type="search" data-bss-hover-animate="pulse" placeholder="Search topics or keywords" name="searchbar"><button class="btn btn-success btn-sm" data-bss-hover-animate="pulse" type="submit"><span style="color: rgb(255, 255, 255);">Search</span></button></form>
                            </div>
                        </div>
                    </div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                    <div class="w-100"></div>
                </div>
                <script>
                    function getUsernameCookie() {
                        const cookies = document.cookie; // Get all cookies as a single string
                        const cookiesArray = cookies.split('; '); // Split the cookies string into an array of "key=value" strings
                    
                        // Loop through the array to find the "username" cookie
                        for (let i = 0; i < cookiesArray.length; i++) {
                            const cookiePair = cookiesArray[i].split('='); // Split each "key=value" string into [key, value]
                            if (cookiePair[0] === 'username') {
                                return cookiePair[1]; // Return the value of the "username" cookie
                            }
                        }
                    
                        return null; // Return null if the "username" cookie is not found
                    }
                </script>
                <ul class="navbar-nav d-flex d-sm-flex justify-content-center align-items-center flex-nowrap ms-auto align-items-sm-center">
                    <li class="nav-item dropdown d-sm-none no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><i class="fas fa-search"></i></a>
                        <div class="dropdown-menu dropdown-menu-end p-3 animated--grow-in" aria-labelledby="searchDropdown">
                            <form class="me-auto navbar-search w-100" action="/gem/search" method="get">
                                <div class="input-group"><input class="bg-light form-control border-0 small" type="text" placeholder="Search for ...">
                                    <div class="input-group-append"><button class="btn btn-primary py-0" type="button"><i class="fas fa-search"></i></button></div>
                                </div>
                            </form>
                        </div>
                    </li>
                    <li class="nav-item dropdown no-arrow mx-1"></li>
                    <li class="nav-item dropdown no-arrow mx-1">
                        <div class="shadow dropdown-list dropdown-menu dropdown-menu-end" aria-labelledby="alertsDropdown"></div>
                    </li>
                    <div class="d-none d-sm-block topbar-divider"></div>
                    <li class="nav-item dropdown no-arrow">
                        <div class="nav-item dropdown no-arrow"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#"><span id="username" class="d-none d-lg-inline me-2 text-gray-600 small">username</span>
                        </a>
                            <button class="dropdown-menu shadow dropdown-menu-end animated--grow-in" style="border: none; background: none; padding: 0; margin: 0;">
                                <a class="dropdown-item" href="/user"><i class="fas fa-user fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Home</a>
                                <a class="dropdown-item" href="/user/settings"><i class="fas fa-cogs fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Settings</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="/" onclick="logout()"><i class="fas fa-sign-out-alt fa-sm fa-fw me-2 text-gray-400"></i>&nbsp;Logout</a>
                            </button>
                            
                            </div>
                        </li></ul></div>
                    
                
            </div>
        
        <script>
            var username = getUsernameCookie();  // Retrieve the username from cookies
            var usernameElement = document.getElementById('username');
            usernameElement.innerText = username;  // Set the text of the element
        </script>
        <script>
            function logout() {
                fetch('/user/logout', {
                    method: 'POST',
                    credentials: 'include'  // Necessary to include cookies with requests
                })
            
                .then((response) => {
                    if (response.ok) {
                        return response.json();
                    } 
                    else {
                        return response.text().then(text => {
                            throw new Error(text);
                        });
                    }
                })
    
                .then(data => {
                    // Redirect to the login page
                    window.location.href = '/';
                })
    
                .catch((error) => {
                    const errorMessage = JSON.parse(error.message);
                    console.log(errorMessage);
            
                });
            }
        </script>
        
    </nav>
    
    
        <script type="text/javascript">
            var gemId = "0b29ef62-af3a-4c1d-baf7-2293fffcd4b9";
        </script>
        <header data-aos="fade" class="bg-primary-gradient pt-5 aos-init aos-animate" style="background: #ffffff;">
            <div class="text-center">
                <p class="fw-bold text-success mb-2">Hidden Easter Egg</p>
                <h1 class="fw-bold">DOOM</h1>
            </div>
        </header>
    <div class="container text-center pb-5 mb-5"><iframe src="https://msdos-games.com/game/?prn=doom" width="864" height="541"></iframe></div>
        
        
        
        
        
        
        
    {{ footer() }}
    
    
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
        <script src="/static/js/script.min.js"></script>
        <script src="/static/js/pin-gem.js"></script>
    
    
    
    </body>

</html>